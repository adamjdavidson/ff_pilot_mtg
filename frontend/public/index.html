<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feedforward AI Meeting Assistant</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <!-- Sidebar for saved insights -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h3>Saved Insights</h3>
                <button id="clear-saved" class="clear-btn" title="Clear all saved insights">
                    <i class="fas fa-trash-alt"></i>
                </button>
            </div>
            <div id="saved-insights" class="saved-insights-container">
                <!-- Saved insights will be added here -->
                <div class="empty-state">
                    <i class="fas fa-bookmark"></i>
                    <p>Save important insights here</p>
                </div>
            </div>
        </aside>

        <!-- Main content area -->
        <main class="main-content">
            <header class="app-header">
                <div class="logo-container">
                    <div class="logo-icon">
                        <i class="fas fa-brain"></i>
                    </div>
                    <h1>Feedforward AI Meeting Assistant</h1>
                </div>
                <div class="status-container">
                    <div id="connection-status" class="connection-status">
                        <i class="fas fa-circle-notch fa-spin"></i>
                        <span>Connecting...</span>
                    </div>
                    <div id="mic-status" class="mic-status">
                        <i class="fas fa-microphone-slash"></i>
                        <span>Microphone inactive</span>
                    </div>
                    <button id="manage-agents-btn" class="manage-agents-btn">
                        <i class="fas fa-brain"></i>
                        <span>Manage Agents</span>
                    </button>
                </div>
            </header>

            <div class="insights-header">
                <h2>Meeting Insights</h2>
                <div class="filter-controls">
                    <button class="filter-btn active" data-filter="all">All</button>
                    <button class="filter-btn" data-filter="Radical Expander">Radical</button>
                    <button class="filter-btn" data-filter="Wild Product Agent">Product</button>
                    <button class="filter-btn" data-filter="Skeptical Agent">Skeptical</button>
                    <button class="filter-btn" data-filter="Debate Agent">Debate</button>
                    <button class="filter-btn" data-filter="One Small Thing">Steps</button>
                    <button class="filter-btn" data-filter="Disruptor">Disruptor</button>
                </div>
            </div>

            <div id="insights" class="insights-container">
                <!-- Insights will be added here dynamically -->
                <div class="empty-state" id="empty-insights">
                    <i class="fas fa-comment-dots"></i>
                    <p>Waiting for conversation insights...</p>
                </div>
            </div>
        </main>
    </div>

    <!-- Audio elements for agent sounds -->
    <audio id="sound-radical" src="sounds/radical.mp3" preload="auto"></audio>
    <audio id="sound-product" src="sounds/product.mp3" preload="auto"></audio>
    <audio id="sound-skeptical" src="sounds/skeptical.mp3" preload="auto"></audio>
    <audio id="sound-debate" src="sounds/debate.mp3" preload="auto"></audio>
    <audio id="sound-one-small-thing" src="sounds/one-small-thing.mp3" preload="auto"></audio>
    <audio id="sound-disruptor" src="sounds/disruptor.mp3" preload="auto"></audio>
    <audio id="sound-error" src="sounds/error.mp3" preload="auto"></audio>
    
    <!-- Manage Agents Modal -->
    <div id="manage-agents-modal" class="modal">
        <div class="modal-content modal-lg">
            <div class="modal-header">
                <h2>Manage AI Agents</h2>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="agent-manager">
                    <!-- Left sidebar with agent list -->
                    <div class="agent-list-sidebar">
                        <div class="agent-list-header">
                            <h3>Available Agents</h3>
                            <button id="new-agent-btn" class="new-agent-btn">
                                <i class="fas fa-plus"></i> New Agent
                            </button>
                        </div>
                        <div class="agent-list" id="agent-list">
                            <!-- Agent list items will be populated by JavaScript -->
                        </div>
                    </div>
                    
                    <!-- Right panel with agent details and editor -->
                    <div class="agent-detail-panel">
                        <!-- Editor panel (visible when editing an agent) -->
                        <div id="agent-editor" class="agent-editor">
                            <h3 id="editor-title">Edit Agent</h3>
                            <form id="agent-edit-form">
                                <div class="form-group">
                                    <label for="edit-agent-name">Agent Name:</label>
                                    <input type="text" id="edit-agent-name" name="edit-agent-name" placeholder="e.g., Marketing Agent" required>
                                </div>
                                <div class="form-group">
                                    <label for="edit-agent-icon">Agent Icon:</label>
                                    <select id="edit-agent-icon" name="edit-agent-icon">
                                        <option value="fa-brain">Brain</option>
                                        <option value="fa-lightbulb">Lightbulb</option>
                                        <option value="fa-bolt">Lightning</option>
                                        <option value="fa-rocket">Rocket</option>
                                        <option value="fa-comments">Comments</option>
                                        <option value="fa-question-circle">Question</option>
                                        <option value="fa-check-circle">Checkmark</option>
                                        <option value="fa-trophy">Trophy</option>
                                        <option value="fa-chart-line">Chart</option>
                                        <option value="fa-cogs">Gears</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="edit-agent-goal">Agent Goal/Purpose:</label>
                                    <textarea id="edit-agent-goal" name="edit-agent-goal" placeholder="Describe what this agent specializes in..." required></textarea>
                                </div>
                                <div class="form-group">
                                    <label for="edit-agent-prompt">Agent Prompt Template:</label>
                                    <textarea id="edit-agent-prompt" name="edit-agent-prompt" placeholder="The prompt template used to guide the agent..." rows="6"></textarea>
                                    <small class="form-help">Advanced: This defines how the agent responds. Use {goal} to reference the goal and {text} for transcript text.</small>
                                </div>
                                <div class="form-group">
                                    <label for="edit-agent-triggers">Trigger Keywords (comma-separated):</label>
                                    <input type="text" id="edit-agent-triggers" name="edit-agent-triggers" placeholder="e.g., marketing, brand, promotion" required>
                                    <small class="form-help">These keywords will cause this agent to activate when mentioned in conversation.</small>
                                </div>
                                <div class="form-buttons">
                                    <button type="submit" class="submit-btn">Save Agent</button>
                                    <button type="button" class="cancel-edit-btn">Cancel</button>
                                </div>
                            </form>
                        </div>
                        
                        <!-- Details panel (visible when viewing an agent) -->
                        <div id="agent-details" class="agent-details">
                            <div class="agent-header">
                                <div class="agent-avatar">
                                    <i id="detail-agent-icon" class="fas fa-brain"></i>
                                </div>
                                <h3 id="detail-agent-name">Agent Name</h3>
                            </div>
                            <div class="agent-description">
                                <h4>Goal</h4>
                                <p id="detail-agent-goal">Agent goal description will appear here.</p>
                                
                                <h4>Trigger Keywords</h4>
                                <div id="detail-agent-triggers" class="trigger-tags">
                                    <!-- Trigger keywords will be displayed here -->
                                </div>
                                
                                <h4>Prompt Template</h4>
                                <pre id="detail-agent-prompt" class="prompt-template">Prompt template will appear here.</pre>
                            </div>
                            <div class="agent-action-buttons">
                                <button id="edit-agent-btn" class="action-btn edit-btn">
                                    <i class="fas fa-edit"></i> Edit
                                </button>
                                <button id="delete-agent-btn" class="action-btn delete-btn">
                                    <i class="fas fa-trash"></i> Delete
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="script.js"></script>
</body>
</html>